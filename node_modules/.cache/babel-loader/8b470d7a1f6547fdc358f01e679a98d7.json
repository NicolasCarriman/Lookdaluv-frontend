{"ast":null,"code":"const baseURL = process.env.REACT_APP_API_URL;\nexport const fetchWithoutToken = (endpoint, data, method = 'GET') => {\n  const url = `${baseURL}/${endpoint}`;\n\n  if (method === 'GET') {\n    return fetch(url);\n  } else {\n    return fetch(url, {\n      method,\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n  }\n};\nexport const fetchWithToken = (endpoint, data, method = 'GET') => {\n  const url = `${baseURL}/${endpoint}`;\n  const token = localStorage.getItem('token') || '';\n\n  if (method === 'GET') {\n    return fetch(url, {\n      method,\n      headers: {\n        'Authorization': `Token ${token}`\n      }\n    });\n  } else {\n    return fetch(url, {\n      method,\n      headers: {\n        'Content-type': 'application/json',\n        //'token': token\n        'Authorization': `Token ${token}`\n      },\n      body: JSON.stringify(data)\n    });\n  }\n};","map":{"version":3,"sources":["/home/nighthawk/Documents/Amaterasu/lookdaluv-frontend/src/helpers/fetch.js"],"names":["baseURL","process","env","REACT_APP_API_URL","fetchWithoutToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;AAEA,OAAO,MAAMC,iBAAiB,GAAG,CAAEC,QAAF,EAAYC,IAAZ,EAAkBC,MAAM,GAAC,KAAzB,KAAoC;AAEjE,QAAMC,GAAG,GAAI,GAAGR,OAAS,IAAIK,QAAU,EAAvC;;AAEA,MAAKE,MAAM,KAAK,KAAhB,EAAuB;AACnB,WAAOE,KAAK,CAAED,GAAF,CAAZ;AACH,GAFD,MAEO;AACH,WAAOC,KAAK,CAAED,GAAF,EAAQ;AAChBD,MAAAA,MADgB;AAEhBG,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFO;AAKhBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAgBP,IAAhB;AALU,KAAR,CAAZ;AAOH;AAEJ,CAhBM;AAkBP,OAAO,MAAMQ,cAAc,GAAG,CAAET,QAAF,EAAYC,IAAZ,EAAkBC,MAAM,GAAG,KAA3B,KAAsC;AAEhE,QAAMC,GAAG,GAAI,GAAGR,OAAS,IAAIK,QAAU,EAAvC;AACA,QAAMU,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAA/C;;AAGA,MAAKV,MAAM,KAAK,KAAhB,EAAuB;AACnB,WAAOE,KAAK,CAAED,GAAF,EAAM;AACdD,MAAAA,MADc;AAEdG,MAAAA,OAAO,EAAE;AACL,yBAAkB,SAASK,KAAO;AAD7B;AAFK,KAAN,CAAZ;AAMH,GAPD,MAOO;AACH,WAAON,KAAK,CAAED,GAAF,EAAQ;AAChBD,MAAAA,MADgB;AAEhBG,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL;AACA,yBAAkB,SAASK,KAAO;AAH7B,OAFO;AAOhBJ,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAgBP,IAAhB;AAPU,KAAR,CAAZ;AASH;AAEJ,CAzBM","sourcesContent":["const baseURL = process.env.REACT_APP_API_URL\n\nexport const fetchWithoutToken = ( endpoint, data, method='GET' ) => {\n\n    const url = `${ baseURL }/${ endpoint }`;\n\n    if ( method === 'GET' ){\n        return fetch( url );\n    } else {\n        return fetch( url , {\n            method,\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify( data )\n        });\n    }\n\n}\n\nexport const fetchWithToken = ( endpoint, data, method = 'GET' ) => {\n\n    const url = `${ baseURL }/${ endpoint }`;\n    const token = localStorage.getItem('token') || '';\n\n\n    if ( method === 'GET' ){\n        return fetch( url,{\n            method,\n            headers: {\n                'Authorization': `Token ${ token }`\n            }\n        });\n    } else {\n        return fetch( url , {\n            method,\n            headers: {\n                'Content-type': 'application/json',\n                //'token': token\n                'Authorization': `Token ${ token }`\n            },\n            body: JSON.stringify( data )\n        });\n    }\n\n}"]},"metadata":{},"sourceType":"module"}